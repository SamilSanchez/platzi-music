
<ion-header>
  <ion-toolbar>
    <ion-buttons>
      <ion-button (click)="goToLogin()">
        back
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>

  <figure class="ion-text-center" class="ion-padding">
    <img src="assets/img/logo.png" alt="" srcset="">
  </figure>

  <form [formGroup]="registerForm" (ngSubmit)="register(registerForm.value)">
    <ion-item color="">
      <ion-label> Nombre </ion-label>
      <ion-input formControlName="name"></ion-input>
    </ion-item>
    <div class="validation-error">
     <ng-container *ngFor="let validation of validation_messages.name">
      <div *ngIf="registerForm.get('name').hasError(validation.type) &&
                 (registerForm.get('name').dirty ||
                 registerForm.get('name').touched)">
        {{ validation.message }}
      </div>
     </ng-container>
    </div>
    <ion-item color="">
      <ion-label> Apellido </ion-label>
      <ion-input formControlName="last_name"></ion-input>
    </ion-item>
    <div class="validation-error">
     <ng-container *ngFor="let validation of validation_messages.last_name">
      <div *ngIf="registerForm.get('last_name').hasError(validation.type) &&
                 (registerForm.get('last_name').dirty ||
                 registerForm.get('last_name').touched)">
        {{ validation.message }}
      </div>
     </ng-container>
    </div>
    <ion-item color="">
      <ion-label> Email </ion-label>
      <ion-input formControlName="email"></ion-input>
    </ion-item>
    <div class="validation-error">
     <ng-container *ngFor="let validation of validation_messages.email">
      <div *ngIf="registerForm.get('email').hasError(validation.type) &&
                 (registerForm.get('email').dirty ||
                 registerForm.get('email').touched)">
        {{ validation.message }}
      </div>
     </ng-container>
    </div>
    <ion-item color="">
      <ion-label> Password </ion-label>
      <ion-input type="password" formControlName="password" ></ion-input>
    </ion-item>
    <div class="validation-error">
      <ng-container *ngFor="let validation of validation_messages.password">
       <div *ngIf="registerForm.get('password').hasError(validation.type) &&
                  (registerForm.get('password').dirty ||
                  registerForm.get('password').touched)">
         {{ validation.message }}
       </div>
      </ng-container>
     </div>
    {{ errorMessage }}
    <ion-button
    expand="full"
    shape="round"
    color="success"
    [disabled]="!registerForm.valid"
    type="submit"
    > Registrar</ion-button>


  </form>
</ion-content>
